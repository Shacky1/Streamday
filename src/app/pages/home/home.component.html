<div class="home-container">
  <h2 class="home-title">Popular Movies & TV Shows</h2>

  <!-- Search + Genre Filter -->
  <form (submit)="searchMovies(); $event.preventDefault()" class="search-form" role="search">
    <input
      type="text"
      [(ngModel)]="query"
      name="query"
      placeholder="Search movies or TV..."
      class="search-input"
      autocomplete="off"
      aria-label="Search movies"
    />

    <select [(ngModel)]="selectedGenre" name="genre" class="genre-select" (change)="getMoviesByGenre()">
      <option value="">All Genres</option>
      <option *ngFor="let genre of genres" [value]="genre.id">{{ genre.name }}</option>
    </select>

    <button type="submit" class="search-button">Search</button>
  </form>

  <!-- No Results -->
  <div *ngIf="movies.length === 0 && query.trim() !== ''" class="no-results">
    No results found for "{{ query }}"
  </div>

  <!-- Movie/TV Grid -->
  <div class="movie-grid" *ngIf="movies.length > 0">
    <div *ngFor="let movie of movies" class="movie-card">
      <img
        [src]="imageUrl(movie.poster_path)"
        alt="{{ movie.title || movie.name }}"
        class="movie-poster"
        loading="lazy"
      />
      <div class="movie-info">
  <!-- Title -->
  <h3 class="movie-title">{{ movie.title || movie.name }}</h3>

  <!-- Release Date -->
  <p class="movie-date">
    {{ movie.release_date || movie.first_air_date | date: 'mediumDate' }}
  </p>

  <!-- Overview -->
  <p *ngIf="movie?.overview" class="movie-overview">
    {{ movie.overview }}
  </p>

  <!-- Rating -->
  <p class="movie-rating">
    ⭐ {{ movie.vote_average ? (movie.vote_average | number: '1.1-1') : 'N/A' }} / 10
  </p>

  <!-- Watch Button -->
  <a
    [routerLink]="['/', movie.media_type || 'movie', movie.id]"
    class="watch-button"
  >
    ▶ Watch Now
  </a>
</div>

    </div>
  </div>
</div>
